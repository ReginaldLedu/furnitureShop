/* eslint-disable react/prop-types */
import React, { useState } from 'react';
import PropTypes from 'prop-types';
import { useDispatch, useSelector } from 'react-redux';

import { NavLink } from 'react-router-dom';
import './header.css';
import { LoginCover } from '../login/login-cover';
import Register from '../register/register';
import { UserExit } from '../user-exit/user-exit';
import { ChosenIcon } from '../chosen-icon/chosen-icon';
import { clearChosen } from '../../store/slice';

function Header(props) {
  const dispatch = useDispatch();
  const user = useSelector(
    state => state.rootReducer.furnitureToolkit.currentUser
  );
  const [loginCover, setLoginCover] = useState(false);
  const [register, setRegister] = useState(false);

  return (
    // eslint-disable-next-line react/prop-types
    <header className={props.cls}>
      {register === true ? (
        <Register setRegister={setRegister} register={register} />
      ) : (
        ''
      )}
      {loginCover === true ? (
        <LoginCover
          loginCover={loginCover}
          setLoginCover={setLoginCover}
          register={register}
          setRegister={setRegister}
        />
      ) : (
        ''
      )}
      <div className="heading">
        <NavLink to="/furnitureShop/">
          <div className="heading__logo">
            <svg
              className="logo__img"
              width="193"
              height="33"
              viewBox="0 0 193 33"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.564 0.799998H5.172V18.692L18.708 0.799998H23.064V26H18.456V8.144L4.92 26H0.564V0.799998ZM29.6256 6.776H34.1256V14.588H43.8096V6.776H48.3096V26H43.8096V18.404H34.1256V26H29.6256V6.776ZM69.5684 10.592H62.8364V26H58.3364V10.592H51.5684V6.776H69.5684V10.592ZM89.9888 16.496C89.9888 16.808 89.9648 17.252 89.9168 17.828H74.8328C75.0968 19.244 75.7808 20.372 76.8848 21.212C78.0128 22.028 79.4048 22.436 81.0608 22.436C83.1728 22.436 84.9128 21.74 86.2808 20.348L88.6928 23.12C87.8288 24.152 86.7368 24.932 85.4168 25.46C84.0968 25.988 82.6088 26.252 80.9528 26.252C78.8408 26.252 76.9808 25.832 75.3728 24.992C73.7648 24.152 72.5168 22.988 71.6288 21.5C70.7648 19.988 70.3328 18.284 70.3328 16.388C70.3328 14.516 70.7528 12.836 71.5928 11.348C72.4568 9.836 73.6448 8.66 75.1568 7.82C76.6688 6.98 78.3728 6.56 80.2688 6.56C82.1408 6.56 83.8088 6.98 85.2728 7.82C86.7608 8.636 87.9128 9.8 88.7288 11.312C89.5688 12.8 89.9888 14.528 89.9888 16.496ZM80.2688 10.16C78.8288 10.16 77.6048 10.592 76.5968 11.456C75.6128 12.296 75.0128 13.424 74.7968 14.84H85.7048C85.5128 13.448 84.9248 12.32 83.9408 11.456C82.9568 10.592 81.7328 10.16 80.2688 10.16ZM105.567 6.56C107.439 6.56 109.107 6.968 110.571 7.784C112.059 8.6 113.223 9.752 114.063 11.24C114.903 12.728 115.323 14.444 115.323 16.388C115.323 18.332 114.903 20.06 114.063 21.572C113.223 23.06 112.059 24.212 110.571 25.028C109.107 25.844 107.439 26.252 105.567 26.252C102.975 26.252 100.923 25.388 99.4107 23.66V32.984H94.9107V6.776H99.1947V9.296C99.9387 8.384 100.851 7.7 101.931 7.244C103.035 6.788 104.247 6.56 105.567 6.56ZM105.063 22.4C106.719 22.4 108.075 21.848 109.131 20.744C110.211 19.64 110.751 18.188 110.751 16.388C110.751 14.588 110.211 13.136 109.131 12.032C108.075 10.928 106.719 10.376 105.063 10.376C103.983 10.376 103.011 10.628 102.147 11.132C101.283 11.612 100.599 12.308 100.095 13.22C99.5907 14.132 99.3387 15.188 99.3387 16.388C99.3387 17.588 99.5907 18.644 100.095 19.556C100.599 20.468 101.283 21.176 102.147 21.68C103.011 22.16 103.983 22.4 105.063 22.4ZM129.449 13.112C131.897 13.112 133.769 13.664 135.065 14.768C136.385 15.872 137.045 17.432 137.045 19.448C137.045 21.56 136.325 23.192 134.885 24.344C133.445 25.496 131.417 26.06 128.801 26.036L119.801 26V6.776H124.301V13.076L129.449 13.112ZM128.405 22.724C129.725 22.748 130.733 22.472 131.429 21.896C132.125 21.32 132.473 20.48 132.473 19.376C132.473 18.296 132.137 17.504 131.465 17C130.793 16.496 129.773 16.232 128.405 16.208L124.301 16.172V22.688L128.405 22.724ZM159.001 16.496C159.001 16.808 158.977 17.252 158.929 17.828H143.845C144.109 19.244 144.793 20.372 145.897 21.212C147.025 22.028 148.417 22.436 150.073 22.436C152.185 22.436 153.925 21.74 155.293 20.348L157.705 23.12C156.841 24.152 155.749 24.932 154.429 25.46C153.109 25.988 151.621 26.252 149.965 26.252C147.853 26.252 145.993 25.832 144.385 24.992C142.777 24.152 141.529 22.988 140.641 21.5C139.777 19.988 139.345 18.284 139.345 16.388C139.345 14.516 139.765 12.836 140.605 11.348C141.469 9.836 142.657 8.66 144.169 7.82C145.681 6.98 147.385 6.56 149.281 6.56C151.153 6.56 152.821 6.98 154.285 7.82C155.773 8.636 156.925 9.8 157.741 11.312C158.581 12.8 159.001 14.528 159.001 16.496ZM149.281 10.16C147.841 10.16 146.617 10.592 145.609 11.456C144.625 12.296 144.025 13.424 143.809 14.84H154.717C154.525 13.448 153.937 12.32 152.953 11.456C151.969 10.592 150.745 10.16 149.281 10.16ZM174.578 6.56C176.45 6.56 178.118 6.968 179.582 7.784C181.07 8.6 182.234 9.752 183.074 11.24C183.914 12.728 184.334 14.444 184.334 16.388C184.334 18.332 183.914 20.06 183.074 21.572C182.234 23.06 181.07 24.212 179.582 25.028C178.118 25.844 176.45 26.252 174.578 26.252C171.986 26.252 169.934 25.388 168.422 23.66V32.984H163.922V6.776H168.206V9.296C168.95 8.384 169.862 7.7 170.942 7.244C172.046 6.788 173.258 6.56 174.578 6.56ZM174.074 22.4C175.73 22.4 177.086 21.848 178.142 20.744C179.222 19.64 179.762 18.188 179.762 16.388C179.762 14.588 179.222 13.136 178.142 12.032C177.086 10.928 175.73 10.376 174.074 10.376C172.994 10.376 172.022 10.628 171.158 11.132C170.294 11.612 169.61 12.308 169.106 13.22C168.602 14.132 168.35 15.188 168.35 16.388C168.35 17.588 168.602 18.644 169.106 19.556C169.61 20.468 170.294 21.176 171.158 21.68C172.022 22.16 172.994 22.4 174.074 22.4ZM189.83 26.252C189.014 26.252 188.318 25.976 187.742 25.424C187.166 24.848 186.878 24.128 186.878 23.264C186.878 22.376 187.154 21.656 187.706 21.104C188.282 20.552 188.99 20.276 189.83 20.276C190.67 20.276 191.366 20.552 191.918 21.104C192.494 21.656 192.782 22.376 192.782 23.264C192.782 24.128 192.494 24.848 191.918 25.424C191.342 25.976 190.646 26.252 189.83 26.252Z"
                fill="white"
              />
            </svg>
          </div>
        </NavLink>

        <nav>
          <ChosenIcon />
          {user[0].id === '' ? (
            <div
              onClick={() => {
                dispatch(clearChosen());
                setLoginCover(true);
              }}
              className="breadcrumbs_personal"
            >
              <svg
                width="39"
                height="39"
                viewBox="0 0 40 40"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M16.5,33C7.4,33,0,25.6,0,16.5C0,7.4,7.4,0,16.5,0C25.7,0,33,7.4,33,16.6C33,25.7,25.6,33,16.5,33z M20.6,19.7
					  c3.5,1.5,4.6,2.6,7,6.3c4.3-4.5,5.4-13.3-0.4-19.5C21.5,0.3,11.7,0.3,5.9,6.4c-5.8,6.1-4.8,15-0.5,19.6c1.5-3,3.8-5.1,7-6.3
					  c-4.1-2.8-4.3-8.4-1.1-11.5c3-2.9,7.7-2.8,10.6,0.1C24.9,11.4,24.7,16.9,20.6,19.7z M16,31.1c3.9,0,7.2-1.2,9.8-3.3
					  c0.3-0.2,0.3-0.4,0.2-0.7c-1.9-4-5.1-6.2-9.5-6.2c-4.4,0-7.6,2.2-9.5,6.2c-0.1,0.3-0.1,0.4,0.2,0.7C9.8,30,13,31.1,16,31.1z
						M16.5,7.9c-3.1,0-5.5,2.5-5.5,5.6c0,3,2.5,5.5,5.5,5.5c3.1,0,5.6-2.5,5.6-5.6C22.1,10.3,19.6,7.9,16.5,7.9z"
                  fill="white"
                  stroke="white"
                  strokeWidth="0.1"
                />
              </svg>
            </div>
          ) : (
            <UserExit />
          )}

          <NavLink className="header__link" to="/furnitureShop/catalogue">
            <div className="breadcrumbs">Каталог</div>
          </NavLink>
          <NavLink className="header__link" to="/furnitureShop/basket">
            <div className="breadcrumbs">Корзина</div>
          </NavLink>
        </nav>
        <div className="mob__icons">
          {user[0].id === '' ? (
            <div onClick={() => setLoginCover(true)} className="icon_personal">
              <svg
                width="25"
                height="25"
                viewBox="0 0 40 40"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M16.5,33C7.4,33,0,25.6,0,16.5C0,7.4,7.4,0,16.5,0C25.7,0,33,7.4,33,16.6C33,25.7,25.6,33,16.5,33z M20.6,19.7
					  c3.5,1.5,4.6,2.6,7,6.3c4.3-4.5,5.4-13.3-0.4-19.5C21.5,0.3,11.7,0.3,5.9,6.4c-5.8,6.1-4.8,15-0.5,19.6c1.5-3,3.8-5.1,7-6.3
					  c-4.1-2.8-4.3-8.4-1.1-11.5c3-2.9,7.7-2.8,10.6,0.1C24.9,11.4,24.7,16.9,20.6,19.7z M16,31.1c3.9,0,7.2-1.2,9.8-3.3
					  c0.3-0.2,0.3-0.4,0.2-0.7c-1.9-4-5.1-6.2-9.5-6.2c-4.4,0-7.6,2.2-9.5,6.2c-0.1,0.3-0.1,0.4,0.2,0.7C9.8,30,13,31.1,16,31.1z
						M16.5,7.9c-3.1,0-5.5,2.5-5.5,5.6c0,3,2.5,5.5,5.5,5.5c3.1,0,5.6-2.5,5.6-5.6C22.1,10.3,19.6,7.9,16.5,7.9z"
                  fill="white"
                  stroke="white"
                  strokeWidth="0.1"
                />
              </svg>
            </div>
          ) : (
            <>
              <UserExit />
              <ChosenIcon />
            </>
          )}

          <NavLink className="header__link" to="/furnitureShop/catalogue">
            <span className="icon__catalog">
              <svg
                width="20"
                height="21"
                viewBox="0 0 20 21"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  x="0.800537"
                  y="0.900024"
                  width="4.57143"
                  height="4.57143"
                  fill="white"
                />
                <rect
                  x="0.800537"
                  y="8.21436"
                  width="4.57143"
                  height="4.57143"
                  fill="white"
                />
                <rect
                  x="0.800537"
                  y="15.5286"
                  width="4.57143"
                  height="4.57143"
                  fill="white"
                />
                <rect
                  x="8.11401"
                  y="8.21436"
                  width="4.57143"
                  height="4.57143"
                  fill="white"
                />
                <rect
                  x="8.11401"
                  y="15.5286"
                  width="4.57143"
                  height="4.57143"
                  fill="white"
                />
                <rect
                  x="8.11401"
                  y="0.900024"
                  width="4.57143"
                  height="4.57143"
                  fill="white"
                />
                <rect
                  x="15.4285"
                  y="8.21436"
                  width="4.57143"
                  height="4.57143"
                  fill="white"
                />
                <rect
                  x="15.4285"
                  y="15.5286"
                  width="4.57143"
                  height="4.57143"
                  fill="white"
                />
                <rect
                  x="15.4285"
                  y="0.900024"
                  width="4.57143"
                  height="4.57143"
                  fill="white"
                />
              </svg>
            </span>
          </NavLink>
          <NavLink className="header__link" to="/furnitureShop/basket">
            <span className="icon__cart">
              <svg
                width="19"
                height="17"
                viewBox="0 0 19 17"
                fill="none"
                xmlns="http://www.w3.org/2000/svg}"
              >
                <path
                  d="M11.5834 16.8333C12.1359 16.8333 12.6658 16.6138 13.0565 16.2231C13.4473 15.8324 13.6667 15.3025 13.6667 14.75C13.6667 14.1974 13.4473 13.6675 13.0565 13.2768C12.6658 12.8861 12.1359 12.6666 11.5834 12.6666C11.0309 12.6666 10.501 12.8861 10.1103 13.2768C9.71957 13.6675 9.50008 14.1974 9.50008 14.75C9.50008 15.3025 9.71957 15.8324 10.1103 16.2231C10.501 16.6138 11.0309 16.8333 11.5834 16.8333ZM4.29174 16.8333C4.84428 16.8333 5.37418 16.6138 5.76488 16.2231C6.15558 15.8324 6.37508 15.3025 6.37508 14.75C6.37508 14.1974 6.15558 13.6675 5.76488 13.2768C5.37418 12.8861 4.84428 12.6666 4.29174 12.6666C3.73921 12.6666 3.20931 12.8861 2.81861 13.2768C2.4279 13.6675 2.20841 14.1974 2.20841 14.75C2.20841 15.3025 2.4279 15.8324 2.81861 16.2231C3.20931 16.6138 3.73921 16.8333 4.29174 16.8333ZM17.873 2.16975C18.133 2.16136 18.3796 2.05217 18.5606 1.86525C18.7416 1.67834 18.8428 1.42836 18.8428 1.16819C18.8428 0.908013 18.7416 0.658037 18.5606 0.471123C18.3796 0.28421 18.133 0.175013 17.873 0.166626H16.674C15.7345 0.166626 14.922 0.818709 14.7178 1.73538L13.4126 7.61246C13.2084 8.52912 12.3959 9.18121 11.4563 9.18121H3.63133L2.12924 3.17079H11.8636C12.1212 3.15904 12.3644 3.04844 12.5425 2.86199C12.7206 2.67555 12.82 2.42761 12.82 2.16975C12.82 1.91189 12.7206 1.66395 12.5425 1.47751C12.3644 1.29106 12.1212 1.18046 11.8636 1.16871H2.12924C1.82473 1.16862 1.5242 1.23796 1.25051 1.37145C0.976815 1.50495 0.737161 1.69909 0.549763 1.93911C0.362364 2.17913 0.232155 2.45872 0.169034 2.75662C0.105914 3.05452 0.111544 3.36289 0.185495 3.65829L1.68758 9.66662C1.79586 10.1002 2.046 10.485 2.39821 10.7601C2.75042 11.0351 3.18447 11.1844 3.63133 11.1843H11.4563C12.368 11.1845 13.2524 10.8736 13.9636 10.3032C14.6748 9.73275 15.1701 8.93681 15.3678 8.04683L16.674 2.16975H17.873Z"
                  fill="white"
                />
              </svg>
            </span>
          </NavLink>
        </div>
      </div>
      {props.children}
    </header>
  );
}

Header.propTypes = {
  cls: PropTypes.string.isRequired,
};
export default React.memo(Header);
